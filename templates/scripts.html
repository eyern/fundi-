{% load static %}

<!-- JavaScript files-->
      <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
      <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
      <script src="{% static 'vendor/lightbox2/js/lightbox.min.js' %}"></script>
      <script src="{% static 'vendor/nouislider/nouislider.min.js' %}"></script>
      <script src="{% static 'vendor/bootstrap-select/js/bootstrap-select.min.js' %}"></script>
      <script src="{% static 'vendor/owl.carousel2/owl.carousel.min.js' %}"></script>
      <script src="{% static 'vendor/owl.carousel2.thumbs/owl.carousel2.thumbs.min.js' %}"></script>
      <script src="{% static 'js/front.js' %}"></script>

      <script>
        var range = document.getElementById('range');
        noUiSlider.create(range, {
            range: {
                'min': 0,
                'max': 2000
            },
            step: 5,
            start: [100, 1000],
            margin: 300,
            connect: true,
            direction: 'ltr',
            orientation: 'horizontal',
            behaviour: 'tap-drag',
            tooltips: true,
            format: {
              to: function ( value ) {
                return '$' + value;
              },
              from: function ( value ) {
                return value.replace('', '');
              }
            }
        });
        
      </script>

      
      <script>
        // ------------------------------------------------------- //
        //   Inject SVG Sprite - 
        //   see more here 
        //   https://css-tricks.com/ajaxing-svg-sprite/
        // ------------------------------------------------------ //
        function injectSvgSprite(path) {
        
            var ajax = new XMLHttpRequest();
            ajax.open("GET", path, true);
            ajax.send();
            ajax.onload = function(e) {
            var div = document.createElement("div");
            div.className = 'd-none';
            div.innerHTML = ajax.responseText;
            document.body.insertBefore(div, document.body.childNodes[0]);
            }
        }
        // this is set to BootstrapTemple website as you cannot 
        // inject local SVG sprite (using only 'icons/orion-svg-sprite.svg' path)
        // while using file:// protocol
        // pls don't forget to change to your domain :)
        injectSvgSprite('https://bootstraptemple.com/files/icons/orion-svg-sprite.svg'); 
        
      </script>
        <script>
          var url = 'https://wati-integration-prod-service.clare.ai/v2/watiWidget.js?58029';
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.async = true;
          s.src = url;
          var options = {
          "enabled":true,
          "chatButtonSetting":{
              "backgroundColor":"#000",
              "ctaText":"customer support",
              "borderRadius":"25",
              "marginLeft": "0",
              "marginRight": "20",
              "marginBottom": "20",
              "ctaIconWATI":true,
              "position":"right"
          },
          "brandSetting":{
              "brandName":"Handyman Services",
              "brandSubTitle":"undefined",
              "brandImg":"{% static 'img/logo2.png' %}",
              "welcomeText":"Got any questions?\nWe're here to help.",
              "messageText":"Hello, %0AI would like to request a quote.",
              "backgroundColor":"#000",
              "ctaText":"Message Fundi",
              "borderRadius":"25",
              "autoShow":false,
              "phoneNumber":"254796599420"
          }
          };
          s.onload = function() {
              CreateWhatsappChatWidget(options);
          };
          var x = document.getElementsByTagName('script')[0];
          x.parentNode.insertBefore(s, x);
      </script>
      <script src="https://unpkg.com/intasend-inlinejs-sdk@4.0.5/build/intasend-inline.js"></script>
      <script>
        // Initialize IntaSend with your publishable API key
        new window.IntaSend({
            publicAPIKey: "ISPubKey_live_d5f93427-83d0-4029-bb6b-a97d97bcf9c0", // Replace with your sandbox or live key
            live: true // Change to true when going live
        })
        .on("COMPLETE", (results) => {
            console.log("Payment successful:", results);
            // Redirect on successful payment
            window.location.href = "https://fundiservices.co.ke/";
        })
        .on("FAILED", (results) => {
            console.log("Payment failed:", results);
            // Handle failure
            alert("Payment failed, please try again.");
        })
        .on("IN-PROGRESS", (results) => {
            console.log("Payment in progress:", results);
        });
    </script>  
      <!-- FontAwesome CSS - loading as last, so it doesn't block rendering-->
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    </div>
  </body>
</html>